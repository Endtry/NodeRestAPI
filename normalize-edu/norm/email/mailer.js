var _0x2230=['isArray','length','subject','html','sendMail','then','catch','handleError','test','TEST_EMAIL','This\x20is\x20a\x20Test','<div><p>This\x20is\x20a\x20Test</p></div>','Emailer','__esModule','createTransport','env','MAILER_USER','transporter','send'];(function(_0x5308cd,_0x3b132d){var _0x4b1f7d=function(_0x96d2f8){while(--_0x96d2f8){_0x5308cd['push'](_0x5308cd['shift']());}};_0x4b1f7d(++_0x3b132d);}(_0x2230,0x12a));var _0x2797=function(_0x39cd20,_0x17f87f){_0x39cd20=_0x39cd20-0x0;var _0x4a9d99=_0x2230[_0x39cd20];return _0x4a9d99;};'use strict';Object['defineProperty'](exports,_0x2797('0x0'),{'value':!![]});const nodemailer=require('nodemailer');const cluster=require('cluster');class Emailer{constructor(_0x18bfd4){this['createTransport'](_0x18bfd4);}[_0x2797('0x1')](_0x5e72a9){const _0x91c5ea=_0x5e72a9||{'pool':!![],'host':process[_0x2797('0x2')]['MAILER_HOST'],'port':process[_0x2797('0x2')]['MAILER_PORT'],'secure':!![],'tls':{'rejectUnauthorized':![]},'auth':{'user':process[_0x2797('0x2')][_0x2797('0x3')],'pass':process['env']['MAILER_PASS']}};this[_0x2797('0x4')]=nodemailer[_0x2797('0x1')](_0x91c5ea);}[_0x2797('0x5')](_0x56433a,_0x326402){const _0x3d2ac5={'from':_0x56433a['from'],'to':Array[_0x2797('0x6')](_0x56433a['to'])&&_0x56433a['to'][_0x2797('0x7')]>0x0?_0x56433a['to']['join'](',\x20'):_0x56433a['to'],'subject':_0x56433a[_0x2797('0x8')],'html':_0x56433a[_0x2797('0x9')]};return this[_0x2797('0x4')][_0x2797('0xa')](_0x3d2ac5)[_0x2797('0xb')](_0x3e0162=>{_0x326402?_0x326402(_0x3e0162):![];return _0x3e0162;})[_0x2797('0xc')](this[_0x2797('0xd')]);}[_0x2797('0xd')](_0x30261d){return _0x30261d;}[_0x2797('0xe')](_0x47cc91){const _0x25d225=_0x47cc91||{'from':process['env'][_0x2797('0xf')],'to':process[_0x2797('0x2')]['TEST_EMAIL'],'subject':_0x2797('0x10'),'html':_0x2797('0x11')};this[_0x2797('0x5')](_0x25d225);}}exports[_0x2797('0x12')]=Emailer;