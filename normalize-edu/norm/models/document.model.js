var _0xe7b2=['./base.model','request','BaseModel','primary','A\x20numeric\x20property\x20used\x20to\x20identify\x20','\x20record.','foreign','Type','cascade','options','name','dbType','mongo','json','model','controller','postgres','setTouchByUser','insert','body','file','POST','send','getSchema','DocumentBlob','removeWhere','getDocument','findById','saveDocument','api','payload','postfix','size','route','/document/id/:id','/document','/blob/remove','removeDocument','Document','__esModule'];(function(_0x5e1a47,_0x319756){var _0x4e7007=function(_0x3f143b){while(--_0x3f143b){_0x5e1a47['push'](_0x5e1a47['shift']());}};_0x4e7007(++_0x319756);}(_0xe7b2,0x167));var _0x340b=function(_0x59ec11,_0x506d2a){_0x59ec11=_0x59ec11-0x0;var _0x2601d7=_0xe7b2[_0x59ec11];return _0x2601d7;};'use strict';Object['defineProperty'](exports,_0x340b('0x0'),{'value':!![]});const base_model_1=require(_0x340b('0x1'));const request=require(_0x340b('0x2'))['defaults']({'encoding':null});class Document extends base_model_1[_0x340b('0x3')]{constructor(_0x4abb6e,_0x54d586,_0x24d3bd){super(_0x4abb6e,_0x54d586,{'id':{'type':Number,'key':_0x340b('0x4'),'desc':_0x340b('0x5')+_0x54d586+_0x340b('0x6'),'nice_name':''},'file_name':{'type':String,'maxlength':0x12c,'desc':'','nice_name':''},'file':{'type':String,'maxlength':0x12c,'unique':!![],'desc':'','nice_name':''},'file_size':{'type':Number,'default':null,'desc':'','nice_name':''},'description':{'type':String,'maxlength':0x96,'desc':'','nice_name':''},'document_type_id':{'type':Number,'key':_0x340b('0x7'),'references':{'table':_0x340b('0x8'),'foreignKey':'id'},'onDelete':_0x340b('0x9'),'onUpdate':_0x340b('0x9'),'desc':'','nice_name':''}},'A\x20table\x20to\x20store\x20documents\x20of\x20any\x20type.\x20This\x20table\x20is\x20linked\x20to\x20document\x20type\x20and\x20client',[],_0x24d3bd);this[_0x340b('0xa')]=_0x4abb6e;this[_0x340b('0xb')]=_0x54d586;this['api']=_0x24d3bd;this['insert']=(_0x3378ff,_0x3b5d73,_0x9424fc)=>{if(this[_0x340b('0xa')][_0x340b('0xc')]==_0x340b('0xd')){_0x3b5d73[_0x340b('0xe')](this[_0x340b('0xf')][_0x340b('0x10')]['send'](0xc8,{'message':'Comming\x20soon!'}));}else if(this['options'][_0x340b('0xc')]==_0x340b('0x11')){_0x3378ff['reqUser']!=null?this[_0x340b('0xf')][_0x340b('0x10')][_0x340b('0x12')](_0x3378ff,_0x340b('0x13')):![];_0x3378ff[_0x340b('0x14')][_0x340b('0x15')]=this[_0x340b('0xf')][_0x340b('0x10')]['hash']();this['model'][_0x340b('0x10')]['psql']['insert'](_0x3378ff,_0x3b5d73,_0x9424fc,_0x71fb49=>{this['model'][_0x340b('0x10')]['log'](_0x3378ff,_0x71fb49['id'],_0x340b('0x16'));if(_0x3b5d73==null)return _0x71fb49;_0x3b5d73['status'](0xc9)[_0x340b('0x17')](_0x71fb49);});}};this['removeDocument']=(_0x43171e,_0x42ceaf,_0x566e4e)=>{const _0x402cad=this['api'][_0x340b('0x18')](_0x340b('0x19'))[_0x340b('0x10')];this[_0x340b('0xf')][_0x340b('0x10')][_0x340b('0x1a')](_0x43171e,_0x42ceaf,_0x566e4e);};this[_0x340b('0x1b')]=(_0x138cc0,_0x13d5c5,_0x5e7c40)=>{const _0x5a385a=this['api'][_0x340b('0x18')](_0x340b('0x19'))['controller'];return _0x5a385a[_0x340b('0x1c')](_0x138cc0,_0x13d5c5,_0x5e7c40);};this[_0x340b('0x1d')]=(_0x4126fc,_0x20df7b,_0x35b653)=>{const _0x5158b3=this[_0x340b('0x1e')]['getSchema'](_0x340b('0x19'))[_0x340b('0x10')];_0x4126fc[_0x340b('0x14')]={'path':'','postfix':_0x4126fc[_0x340b('0x14')][_0x340b('0x1f')][_0x340b('0x20')],'size':_0x4126fc[_0x340b('0x14')][_0x340b('0x1f')][_0x340b('0x21')],'doc_guid':_0x4126fc[_0x340b('0x14')][_0x340b('0x1f')]['doc_guid'],'base64':_0x4126fc['body'][_0x340b('0x1f')]['base64']};return _0x5158b3[_0x340b('0x13')](_0x4126fc,_0x20df7b,_0x35b653);};this[_0x340b('0x22')](_0x340b('0x23'),_0x340b('0x16'),this['getDocument']);this[_0x340b('0x22')](_0x340b('0x24'),_0x340b('0x16'),this[_0x340b('0x1d')]);this[_0x340b('0x22')](_0x340b('0x25'),_0x340b('0x16'),this[_0x340b('0x26')]);this[_0x340b('0x22')]('/',_0x340b('0x16'),this[_0x340b('0x13')]);}}exports[_0x340b('0x27')]=Document;