var _0x15bf=['procId','online','listening','regenerate','exit','process','Process\x20PID:\x20','\x20code:\x20','\x20signal:\x20','push','SIGINT','destroying\x20','kill','Cluster','__awaiter','next','done','value','apply','defineProperty','__esModule','./api','cluster','options','models','_workers','masterHasExited','numCPUs','cpus','length','init','isMaster','log','Master\x20pid:\x20','pid','\x20is\x20online!','fork','logActivities','setOnExitListener','setupMaster','workers','master','_master','data_broker','interval_worker','http_responder','role','keys','onReady','bootstrap','spawn','forEach','message','cmd','notifyRequest','shutdown','Received\x20shutdown\x20instructions\x20from\x20master!','Getting\x20message\x20from\x20process\x20:\x20'];(function(_0x35e4,_0x146949){var _0x1f6857=function(_0x8fa4cf){while(--_0x8fa4cf){_0x35e4['push'](_0x35e4['shift']());}};_0x1f6857(++_0x146949);}(_0x15bf,0x130));var _0x4099=function(_0x3ffbe5,_0x35f529){_0x3ffbe5=_0x3ffbe5-0x0;var _0x351684=_0x15bf[_0x3ffbe5];return _0x351684;};'use strict';var __awaiter=this&&this[_0x4099('0x0')]||function(_0x5ae7c9,_0x45dc73,_0x1c35f6,_0x2c2701){return new(_0x1c35f6||(_0x1c35f6=Promise))(function(_0x35b55b,_0x3504d5){function _0x1ba6a8(_0x1aefd8){try{_0x2d1eb3(_0x2c2701[_0x4099('0x1')](_0x1aefd8));}catch(_0x595d75){_0x3504d5(_0x595d75);}}function _0x25315a(_0xc2baff){try{_0x2d1eb3(_0x2c2701['throw'](_0xc2baff));}catch(_0x322866){_0x3504d5(_0x322866);}}function _0x2d1eb3(_0x314a2b){_0x314a2b[_0x4099('0x2')]?_0x35b55b(_0x314a2b[_0x4099('0x3')]):new _0x1c35f6(function(_0x35b55b){_0x35b55b(_0x314a2b[_0x4099('0x3')]);})['then'](_0x1ba6a8,_0x25315a);}_0x2d1eb3((_0x2c2701=_0x2c2701[_0x4099('0x4')](_0x5ae7c9,_0x45dc73||[]))[_0x4099('0x1')]());});};Object[_0x4099('0x5')](exports,_0x4099('0x6'),{'value':!![]});const api_1=require(_0x4099('0x7'));const cluster=require(_0x4099('0x8'));const os=require('os');const appMode=!![];class Cluster{constructor(_0x50b061,_0xb6ba8e){this[_0x4099('0x9')]=_0x50b061;this[_0x4099('0xa')]=_0xb6ba8e;this[_0x4099('0xb')]=[];this[_0x4099('0xc')]=![];this[_0x4099('0xd')]=os[_0x4099('0xe')]()[_0x4099('0xf')]||0x1;this[_0x4099('0x10')](cluster,_0x50b061);}[_0x4099('0x10')](_0x3d2bcf,_0x10d463){if(_0x3d2bcf[_0x4099('0x11')]){console[_0x4099('0x12')](_0x4099('0x13')+process[_0x4099('0x14')]+_0x4099('0x15'));this[_0x4099('0x16')](this[_0x4099('0xd')]);this[_0x4099('0x17')](_0x3d2bcf);this['regenerate'](_0x3d2bcf);this[_0x4099('0x18')](_0x3d2bcf,process);}else{this[_0x4099('0x19')](_0x3d2bcf,_0x10d463);}}get[_0x4099('0x1a')](){return this['_workers'];}get[_0x4099('0x1b')](){return this[_0x4099('0x1c')];}[_0x4099('0x16')](_0x41f34d){for(let _0x1fc822=0x0;_0x1fc822<_0x41f34d;_0x1fc822++){let _0x538a0a={'role':_0x1fc822==0x0?_0x4099('0x1d'):_0x1fc822==0x1?_0x4099('0x1e'):_0x4099('0x1f'),'debug':appMode};this[_0x4099('0xb')]['push']({'role':_0x538a0a[_0x4099('0x20')],'cluster':cluster[_0x4099('0x16')](_0x538a0a)});}}[_0x4099('0x19')](_0x1155bc,_0x4e88fa){this['_master']=new api_1['API'](_0x4e88fa);const _0x4b293a=this[_0x4099('0xa')]!=null&&Object[_0x4099('0x21')](this[_0x4099('0xa')])['length']>0x0;if(_0x4b293a){this[_0x4099('0x1c')][_0x4099('0x22')](_0x5f1e7e=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x2e1ec4=yield _0x5f1e7e[_0x4099('0x23')](this[_0x4099('0xa')]!=null?this[_0x4099('0xa')]:{},!![]);_0x2e1ec4?_0x5f1e7e[_0x4099('0x24')]():_0x5f1e7e[_0x4099('0x24')]();}));}}[_0x4099('0x17')](_0x3500bb){Object[_0x4099('0x21')](_0x3500bb[_0x4099('0x1a')])[_0x4099('0x25')](_0x40e84b=>{_0x3500bb['workers'][_0x40e84b]['on'](_0x4099('0x26'),(_0x264b0e,_0x398985)=>{if(_0x264b0e[_0x4099('0x27')]&&_0x264b0e[_0x4099('0x27')]==_0x4099('0x28')){}if(_0x264b0e[_0x4099('0x27')]&&_0x264b0e['cmd']==_0x4099('0x29')){console[_0x4099('0x12')](_0x4099('0x2a'));}console['log'](_0x4099('0x2b'),_0x264b0e[_0x4099('0x2c')]);});_0x3500bb[_0x4099('0x1a')][_0x40e84b]['on'](_0x4099('0x2d'),()=>{});_0x3500bb[_0x4099('0x1a')][_0x40e84b]['on'](_0x4099('0x2e'),_0x2fd17a=>{});});}[_0x4099('0x2f')](_0x24da23){_0x24da23['on'](_0x4099('0x30'),(_0x482ba6,_0x471e3e,_0x219ada)=>{this[_0x4099('0xb')][_0x4099('0x25')]((_0x3275b1,_0x1abf33,_0x47405f)=>{if(_0x3275b1[_0x4099('0x8')][_0x4099('0x31')][_0x4099('0x14')]===_0x482ba6[_0x4099('0x31')]['pid']){console[_0x4099('0x12')](_0x4099('0x32')+_0x3275b1[_0x4099('0x8')][_0x4099('0x31')][_0x4099('0x14')]+'\x20destroyed!',_0x4099('0x33'),_0x471e3e,_0x4099('0x34'),_0x219ada);this['_workers']['splice'](_0x1abf33,0x1);let _0x51669d={'role':_0x3275b1[_0x4099('0x20')],'debug':appMode};!this[_0x4099('0xc')]?this[_0x4099('0xb')][_0x4099('0x35')]({'role':_0x3275b1['role'],'cluster':_0x24da23[_0x4099('0x16')](_0x51669d)}):![];}});});}[_0x4099('0x18')](_0x30a9dc,_0x1c7f72){_0x1c7f72['on'](_0x4099('0x36'),()=>{this[_0x4099('0xb')][_0x4099('0x25')]((_0x533af1,_0x363fb0,_0x59b3d3)=>{console[_0x4099('0x12')](_0x4099('0x37')+_0x533af1[_0x4099('0x8')]['process'][_0x4099('0x14')]);this[_0x4099('0xb')][_0x363fb0][_0x4099('0x8')][_0x4099('0x38')]('SIGKILL');});this[_0x4099('0xc')]=!![];_0x1c7f72[_0x4099('0x30')]();});_0x30a9dc['on']('listening',(_0x5d310e,_0x48fc85)=>{});}}exports[_0x4099('0x39')]=Cluster;